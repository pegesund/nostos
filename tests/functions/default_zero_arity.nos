# expect: 0
# Functions where all params have defaults (callable with no args)

# Single optional param
maybe(x = 42) = x
test1() = maybe() == 42
test2() = maybe(100) == 100
test3() = maybe(x: 0) == 0

# Two optional params
pair(a = 1, b = 2) = (a, b)
test4() = pair() == (1, 2)
test5() = pair(10) == (10, 2)
test6() = pair(10, 20) == (10, 20)
test7() = pair(a: 5) == (5, 2)
test8() = pair(b: 5) == (1, 5)
test9() = pair(b: 5, a: 3) == (3, 5)

# Three optional params
triple(x = 0, y = 0, z = 0) = x + y + z
test10() = triple() == 0
test11() = triple(1) == 1
test12() = triple(1, 2) == 3
test13() = triple(1, 2, 3) == 6
test14() = triple(z: 10) == 10
test15() = triple(y: 5, z: 5) == 10

# Complex defaults
config(host = "localhost", port = 8080, debug = false, timeout = 30) =
    (host, port, debug, timeout)
test16() = config() == ("localhost", 8080, false, 30)
test17() = config(port: 3000) == ("localhost", 3000, false, 30)
test18() = config(debug: true, timeout: 60) == ("localhost", 8080, true, 60)

main() = {
    results = [test1(), test2(), test3(), test4(), test5(),
               test6(), test7(), test8(), test9(), test10(),
               test11(), test12(), test13(), test14(), test15(),
               test16(), test17(), test18()]
    passed = results.filter(r => r)
    if length(passed) == 18 then 0 else 1
}
