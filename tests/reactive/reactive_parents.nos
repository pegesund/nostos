# expect: p1
# Test .parents introspection on reactive records

reactive Point = { x: Int, y: Int }
reactive Line = { p1: Point, p2: Point }

main() = {
    start = Point(x: 0, y: 0)
    finish = Point(x: 10, y: 10)
    line = Line(p1: start, p2: finish)

    # Get parents of start - should contain line with field name "p1"
    parents = start.parents
    match parents {
        [(parent, fieldName)] -> fieldName
        _ -> "unexpected"
    }
}
