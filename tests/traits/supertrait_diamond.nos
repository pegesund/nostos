# expect: true
# Diamond pattern: D requires both B and C, both B and C require A
#       A
#      / \
#     B   C
#      \ /
#       D

trait A
    getA(self) -> Int
end

trait B: A
    getB(self) -> Int
end

trait C: A
    getC(self) -> Int
end

trait D: B, C
    getD(self) -> Int
end

type MyType = { value: Int }

MyType: A getA(self) = self.value end
MyType: B getB(self) = self.value * 2 end
MyType: C getC(self) = self.value * 3 end
MyType: D getD(self) = self.value * 4 end

main() = {
    x = MyType(10)
    x.getA() == 10 && x.getB() == 20 && x.getC() == 30 && x.getD() == 40
}
