# File read/write with unicode content
# expect: true

main() = {
  path = "/tmp/nostos_test_unicode.txt"
  content = "Hello ä¸–ç•Œ! ðŸŽ‰ Ã‘oÃ±o"

  (status, _) = File.writeAll(path, content)
  if status != "ok" then false
  else {
    (status2, data) = File.readAll(path)
    if status2 != "ok" then false
    else {
      (_, _) = File.remove(path)
      data == content
    }
  }
}
