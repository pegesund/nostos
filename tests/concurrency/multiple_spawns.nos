# expect: 30
# Spawn multiple children and collect their results

worker(parent, n) = {
    parent <- n * 2,
    ()
}

main() = {
    me = self()
    spawn(() => worker(me, 5))
    spawn(() => worker(me, 10))

    # Receive both results and sum them
    receive
        a -> receive
            b -> a + b
        end
    end
}
