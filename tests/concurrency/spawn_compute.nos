# expect: ()
# Spawn a child to compute a value and send result back

# Simple computation without multi-clause pattern matching
compute(n) = n * n

worker(parent, n) = {
    result = compute(n)
    parent <- result
}

main() = {
    me = self()
    spawn { worker(me, 5) }
    result = receive
        r -> r
    end
    assert_eq(25, result)
}
