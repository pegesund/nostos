# expect: ()
# Spawn a child process that sends result back to parent

child(parent) = {
    parent <- 42
}

main() = {
    me = self()
    spawn { child(me) }
    result = receive
        msg -> msg
    end
    assert_eq(42, result)
}
