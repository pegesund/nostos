# expect: 84
# Option map with typed result

type Option[T] = Some(T) | None

mapOpt(f, opt) = match opt
    Some(x) -> Some(f(x))
    None -> None
end

unwrap(opt) = match opt
    Some(x) -> x
    None -> 0
end

main() = {
    maybe: Option[Int] = Some(42)
    doubled: Option[Int] = mapOpt(x => x * 2, maybe)
    unwrap(doubled)
}
