# expect: "passed"
type Person = { name: String, age: Int } deriving (Hash + Show + Copy + Eq)

main() = {
    p1 = Person("Alice", 30)
    p2 = Person("Alice", 30)
    p3 = Person("Bob", 25)

    # Test Hash
    assert(hash(p1) == hash(p2))
    assert(hash(p1) != hash(p3))

    # Test Show
    s = show(p1)
    assert(s == "Person { name: Alice, age: 30 }")

    # Test Copy
    p4 = copy(p1)
    assert(p4 == p1)

    # Test Eq
    assert(p1 == p2)
    assert(p1 != p3)

    "passed"
}
