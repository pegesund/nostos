# expect: "passed"
type Option = Some(Int) | None deriving (Hash + Show + Copy + Eq)

main() = {
    s1 = Some(42)
    s2 = Some(42)
    s3 = Some(100)
    n = None

    # Test Hash
    assert(hash(s1) == hash(s2))
    assert(hash(s1) != hash(s3))
    assert(hash(s1) != hash(n))

    # Test Show
    assert(show(s1) == "Some(42)")
    assert(show(n) == "None")

    # Test Copy
    s4 = copy(s1)
    assert(s4 == s1)

    # Test Eq
    assert(s1 == s2)
    assert(s1 != s3)
    assert(s1 != n)

    "passed"
}
