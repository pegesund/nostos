# expect: 2.5
# Test jsonToType with float in variant
use stdlib.json.{jsonParse, jsonStringify}
type Measurement = Distance(Float) | Count(Int)

getValue(Distance(d)) = d
getValue(Count(_)) = 0.0

main() = {
    json = jsonParse("{\"Distance\": 2.5}")
    m = jsonToType[Measurement](json)
    getValue(m)
}
