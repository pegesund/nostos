# expect: true
# Test jsonToType parses same structure consistently
use stdlib.json.{jsonParse}
type Config = { debug: Bool, level: Int }

main() = {
    json = jsonParse("{\"debug\": true, \"level\": 3}")
    cfg = jsonToType[Config](json)

    # Parse same json string again
    json2 = jsonParse("{\"debug\": true, \"level\": 3}")
    cfg2 = jsonToType[Config](json2)

    cfg.debug == cfg2.debug && cfg.level == cfg2.level
}
