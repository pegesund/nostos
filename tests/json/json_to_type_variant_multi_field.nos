# expect: 52
# Test jsonToType with multi-field variant
use stdlib.json.{jsonParse, jsonStringify}
type Event = Click(Int, Int) | KeyPress(String)

getSum(Click(x, y)) = x + y
getSum(KeyPress(_)) = 0

main() = {
    json = jsonParse("{\"Click\": {\"_0\": 10, \"_1\": 42}}")
    evt = jsonToType[Event](json)
    getSum(evt)
}
