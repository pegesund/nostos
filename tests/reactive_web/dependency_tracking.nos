# expect: comp-1
# Test full dependency tracking

import stdlib.reactiveWeb

main() = {
    resetSession()

    # Render a component that tracks a dependency
    result = rwRenderRoot("comp", (compId) => {
        trackRead("myVar")
        Text("Content")
    })

    # Get components to rerender for myVar
    toRerender = getComponentsToRerender("myVar")
    match toRerender {
        [id] -> id
        [] -> "empty"
        _ -> "multiple"
    }
}
