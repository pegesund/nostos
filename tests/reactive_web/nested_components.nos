# expect: 2
# Test nested component rendering creates proper tree

import stdlib.reactiveWeb

main() = {
    resetSession()

    # Render parent with a child
    result = rwRenderRoot("Parent", (parentId) => {
        child = renderWith("Child", parentId, (childId) => {
            Text("Child content")
        })
        Element("div", [], [child.html])
    })

    # Check that there are 2 components in the tree
    getComponentCount()
}
