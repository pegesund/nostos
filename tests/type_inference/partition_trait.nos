# expect: 20
# Test partition with trait predicate

trait Categorizable
    isEven(self) -> Bool
    toNumber(self) -> Int
end

Int: Categorizable
    isEven(self) = self % 2 == 0
    toNumber(self) = self
end

sumEvens[T: Categorizable](items: List[T]) -> Int = {
    (evens, _) = items.partition(x => x.isEven())
    evens.map(x => x.toNumber()).fold(0, (a, b) => a + b)
}

main() = sumEvens([1, 2, 3, 4, 5, 6, 7, 8])
