# expect: 4
# Renderers map should contain all components (including nested)

inner() = RHtml(p("inner"))
middle() = RHtml(div([component("inner", inner)]))
outer() = RHtml(div([component("middle", middle)]))

main() = {
    result = RHtml(div([
        component("outer", outer),
        component("sibling", () => RHtml(p("sibling")))
    ]))
    
    # Should have 4 renderers: outer, middle, inner, sibling
    Map.size(result.renderers)
}
