# expect: true
# Deps tracking: two components reading same reactive record

reactive User = { name: String }

main() = {
    user = User("Alice")
    greeting = () => RHtml(h1(user.name))
    userInfo = () => RHtml(p(user.name))
    result = RHtml(div([
        component("greeting", greeting),
        component("info", userInfo)
    ]))
    # Should have 1 entry in deps (the user record)
    # That entry should list both component names
    deps = result.deps
    Map.size(deps) == 1
}
