# expect_error: does not implement trait `Eq`
type HashOnly = HashOnly(Int) deriving Hash

compare_and_hash[T: Hash + Eq](x: T, y: T) -> Bool = {
    h1 = hash(x)
    h2 = hash(y)
    eq = x == y
    eq
}

main() = {
    p1 = HashOnly(3)
    p2 = HashOnly(3)
    result = compare_and_hash(p1, p2)
    result
}
